import{e as le,s as ue,f as me,g as pe,h as ve,c as l,i as ge,j as ke,r as c,k as ne,l as U,a as e,b as D,m as _,n as A,v as ye,u as n,q as ae,w as N,F as m,d as w,t as o,x as be,y as z,z as b,A as se,o as i,_ as he}from"./C_nnZ29s.js";import{_ as fe}from"./DOptt_n4.js";import{s as M,g as we,p as Z,a as x,b as E,c as L}from"./CkFyzEQF.js";import{u as Ce}from"./CcS7t2fz.js";const je=Symbol.for("nuxt:client-only"),Te=le({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(V,{slots:d,attrs:p}){const v=ue(!1);me(()=>{v.value=!0});const q=ge();return q&&(q._nuxtClientOnly=!0),ke(je,!0),()=>{var u;if(v.value){const f=(u=d.default)==null?void 0:u.call(d);return f&&f.length===1?[pe(f[0],p)]:f}const g=d.fallback||d.placeholder;if(g)return ve(g);const h=V.fallback||V.placeholder||"",C=V.fallbackTag||V.placeholderTag||"span";return l(C,p,h)}}}),ze={class:"row justify-content-center"},Ve={class:"col-lg-6"},$e={class:"input-group mb-3 search-input"},Se={key:0,class:"mb-3"},De={class:"scrollable"},Ne=["onClick"],Me={key:0},Ee={key:1,class:"mb-3"},qe={class:"scrollable"},Oe=["onClick"],We={key:0},Ae={class:"mb-3"},Le={class:"scrollable"},Be=["onClick"],Ie={key:0},Pe={class:"mb-3"},Re={class:"scrollable"},Fe=["onClick"],He={key:0},Ue={class:"row mb-3"},Ze={class:"col-6 mt-2"},xe={class:"col-6 d-flex justify-content-end"},Ge={key:0},Je={key:0,class:"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4"},Ke={class:"col"},Qe={class:"card h-100"},Xe=["src"],Ye={class:"card-body"},et={class:"card-title"},tt={class:"card-subtitle text-body-secondary float-end"},nt={key:0,class:"card-subtitle mb-3 text-body-secondary"},at={class:"fs-5"},st={key:0,class:"text-decoration-line-through ms-1"},lt=["href"],it={key:0,class:"text-body-secondary me-2"},ot={key:1,class:"table"},rt=["href"],ct={class:"ms-2"},_t={key:0,class:"text-body-secondary ms-1"},dt={key:1,class:"text-decoration-line-through ms-1"},ut={key:2,class:"text-body-secondary text-decoration-line-through ms-1"},mt={key:3,class:"ms-2"},pt={key:4},vt={key:0,class:"text-body-secondary"},gt={class:"text-body-secondary"},kt={class:"row justify-content-center mt-3"},yt={class:"col-12 d-flex justify-content-center"},bt={class:"mt-2 ms-3 me-3"},ht={key:1},ft={class:"row justify-content-center"},wt={class:"col-xl-6"},Ct=le({__name:"vitamine",async setup(V){let d,p;Ce({title:"Vitamines & mineralen"});const v=c("");function q(){u.value=1,k()}const g=c([]),h=c(0),C=c(null),u=c(1),f=ne(()=>Math.ceil(h.value/100));async function ie(){if(!(v.value.trim().length>=3||$.value||S.value||y.value||j.value)){g.value=[],h.value=0,C.value=null,u.value=1;return}const{data:a,error:s}=await M.rpc("search",{query:v.value.trim().length>=3?v.value:void 0,selected_source_id:$.value??void 0,selected_brand_id:S.value??void 0,selected_category_id:y.value??void 0,selected_subcategory_id:j.value??void 0,sort_by:O.value,page:u.value});g.value=we(a)??[],h.value=a&&a.length>0?a[0].total:0,C.value=s}let G;function k(){clearTimeout(G),G=setTimeout(()=>{ie()},500)}const $=c(null),J=c([]),B=c(null),K=([d,p]=U(()=>M.from("sources").select("id, name").order("product_count",{ascending:!1}).order("name")),d=await d,p(),d);J.value=K.data??[],B.value=K.error;function oe(a){$.value=$.value==a?null:a,u.value=1,k()}const S=c(null),Q=c([]),I=c(null),X=([d,p]=U(()=>M.from("brands").select("id, name").order("product_count",{ascending:!1}).order("name")),d=await d,p(),d);Q.value=X.data??[],I.value=X.error;function re(a){S.value=S.value==a?null:a,u.value=1,k()}const y=c(null),P=c([]),R=c(null),Y=([d,p]=U(()=>M.from("categories").select("id, name").order("order")),d=await d,p(),d);P.value=Y.data??[],R.value=Y.error;const F=ne(()=>P.value.find(a=>a.id==y.value));async function ee(a){y.value=y.value==a?null:a,u.value=1,k(),y.value?await ce(y.value):j.value=null}const j=c(null),te=c([]),H=c(null);async function ce(a){const s=await M.from("subcategories").select("id, name").eq("category_id",a).order("product_count",{ascending:!1}).order("name");te.value=s.data??[],H.value=s.error}function _e(a){j.value=j.value==a?null:a,u.value=1,k()}const T=c(!0),O=c("price");return(a,s)=>{const de=Te,W=fe;return i(),l(m,null,[e("div",ze,[e("div",Ve,[e("div",$e,[A(e("input",{type:"text",placeholder:"Welk product zoek je?",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=t=>ae(v)?v.value=t:null),onInput:q},null,544),[[ye,n(v)]]),s[7]||(s[7]=e("div",{class:"input-group-append"},[e("span",{class:"input-group-text"},[e("i",{class:"bi bi-search"})])],-1))])])]),D(de,null,{default:N(()=>[n(F)?(i(),l("div",Se,[s[8]||(s[8]=e("h3",{class:"mb-3"},"Categorie",-1)),e("div",De,[e("button",{class:"btn active",onClick:s[1]||(s[1]=t=>ee(n(F).id))},o(n(F).name),1),(i(!0),l(m,null,b(n(te),t=>(i(),l("button",{class:z(["btn",n(j)==t.id?"active":""]),onClick:r=>_e(t.id)},o(t.name),11,Ne))),256))]),n(H)?(i(),l("div",Me," Er ging iets mis met het ophalen van de gegevens: "+o(n(H)),1)):_("",!0)])):(i(),l("div",Ee,[s[9]||(s[9]=e("h3",{class:"mb-3"},"Categorie",-1)),e("div",qe,[(i(!0),l(m,null,b(n(P),t=>(i(),l("button",{class:z(["btn",n(y)==t.id?"active":""]),onClick:r=>ee(t.id)},o(t.name),11,Oe))),256))]),n(R)?(i(),l("div",We," Er ging iets mis met het ophalen van de gegevens: "+o(n(R)),1)):_("",!0)])),e("div",Ae,[s[10]||(s[10]=e("h3",{class:"mb-3"},"Merk",-1)),e("div",Le,[(i(!0),l(m,null,b(n(Q),t=>(i(),l("button",{class:z(["btn",n(S)==t.id?"active":""]),onClick:r=>re(t.id)},o(t.name),11,Be))),256))]),n(I)?(i(),l("div",Ie," Er ging iets mis met het ophalen van de gegevens: "+o(n(I)),1)):_("",!0)]),e("div",Pe,[s[11]||(s[11]=e("h3",{class:"mb-3"},"Winkel",-1)),e("div",Re,[(i(!0),l(m,null,b(n(J),t=>(i(),l("button",{class:z(["btn",n($)==t.id?"active":""]),onClick:r=>oe(t.id)},o(t.name),11,Fe))),256))]),n(B)?(i(),l("div",He," Er ging iets mis met het ophalen van de gegevens: "+o(n(B)),1)):_("",!0)])]),_:1}),e("div",Ue,[e("div",Ze,[n(h)>0?(i(),l(m,{key:0},[w(" Totaal: "+o(n(h)),1)],64)):_("",!0)]),e("div",xe,[s[13]||(s[13]=e("span",{class:"text-body-secondary lh-lg me-3 mt-1 d-none d-sm-inline"},"Sorteer:",-1)),A(e("select",{class:"form-select me-3","onUpdate:modelValue":s[2]||(s[2]=t=>ae(O)?O.value=t:null),onChange:k},s[12]||(s[12]=[e("option",{value:"price"},"Prijs (laag-hoog)",-1),e("option",{value:"price_desc"},"Prijs (hoog-laag)",-1),e("option",{value:"name"},"Naam",-1)]),544),[[be,n(O)]]),e("button",{class:z(["btn",n(T)?"active":""]),onClick:s[3]||(s[3]=t=>T.value=!0)},"Tegels",2),e("button",{class:z(["btn",n(T)?"":"active"]),onClick:s[4]||(s[4]=t=>T.value=!1)},"Lijst",2)])]),n(g).length>0?(i(),l("div",Ge,[n(T)?(i(),l("div",Je,[(i(!0),l(m,null,b(n(g),t=>(i(),l("div",Ke,[e("div",Qe,[D(W,{to:{name:"product-id",params:{id:t.id}},class:"d-flex"},{default:N(()=>[e("img",{src:t.image_link,class:"mt-3"},null,8,Xe)]),_:2},1032,["to"]),e("div",Ye,[e("h5",et,[D(W,{to:{name:"product-id",params:{id:t.id}}},{default:N(()=>[w(o(t.name),1)]),_:2},1032,["to"])]),e("h6",tt,o(t.brand_name),1),t.package_content_amount>0?(i(),l("h6",nt,o(("pretty_package_content_amount"in a?a.pretty_package_content_amount:n(Z))(t))+" "+o(("pretty_package_content_unit"in a?a.pretty_package_content_unit:n(x))(t.package_content_unit)),1)):_("",!0),(i(!0),l(m,null,b(t.product_sources,r=>(i(),l("div",null,[e("span",at,o(("pretty_price"in a?a.pretty_price:n(E))(r.price)),1),r.min_items==1&&r.hidden_price!=r.price?(i(),l("span",st,o(("pretty_price"in a?a.pretty_price:n(E))(r.hidden_price)),1)):_("",!0),e("a",{target:"_blank",href:r.link,class:"ms-2"},o(r.source_name),9,lt),e("div",null,[t.package_content_amount!=0?(i(),l("span",it," ("+o(("pretty_price_per_unit"in a?a.pretty_price_per_unit:n(L))(r.price,t.package_content_amount,t.package_content_unit))+") ",1)):_("",!0),e("span",null,o(r.promo),1)])]))),256))])])]))),256))])):_("",!0),n(T)?_("",!0):(i(),l("table",ot,[s[14]||(s[14]=e("thead",null,[e("tr",null,[e("th",null,"Naam"),e("th",null,"Deals per winkel")])],-1)),e("tbody",null,[(i(!0),l(m,null,b(n(g),t=>(i(),l("tr",null,[e("td",null,[D(W,{to:{name:"product-id",params:{id:t.id}}},{default:N(()=>[w(o(t.brand_name)+" "+o(t.name)+" ",1),t.package_content_amount>0?(i(),l(m,{key:0},[w(" - "+o(("pretty_package_content_amount"in a?a.pretty_package_content_amount:n(Z))(t))+" "+o(("pretty_package_content_unit"in a?a.pretty_package_content_unit:n(x))(t.package_content_unit)),1)],64)):_("",!0)]),_:2},1032,["to"])]),e("td",null,[(i(!0),l(m,null,b(t.product_sources,r=>(i(),l("div",null,[e("a",{target:"_blank",href:r.link},o(r.source_name),9,rt),e("span",ct,o(("pretty_price"in a?a.pretty_price:n(E))(r.price)),1),t.package_content_amount!=0?(i(),l("span",_t," ("+o(("pretty_price_per_unit"in a?a.pretty_price_per_unit:n(L))(r.price,t.package_content_amount,t.package_content_unit))+") ",1)):_("",!0),r.min_items==1&&r.hidden_price!=r.price?(i(),l("span",dt,o(("pretty_price"in a?a.pretty_price:n(E))(r.hidden_price)),1)):_("",!0),t.package_content_amount!=0&&r.min_items==1&&r.hidden_price!=r.price?(i(),l("span",ut,o(("pretty_price_per_unit"in a?a.pretty_price_per_unit:n(L))(r.hidden_price,t.package_content_amount,t.package_content_unit)),1)):_("",!0),r.promo?(i(),l("span",mt,"("+o(r.promo)+")",1)):_("",!0),r.min_items>1?(i(),l("div",pt,[e("span",null," of "+o(("pretty_price"in a?a.pretty_price:n(E))(r.hidden_price)),1),t.package_content_amount!=0?(i(),l("span",vt," ("+o(("pretty_price_per_unit"in a?a.pretty_price_per_unit:n(L))(r.hidden_price,r.min_items*t.package_content_amount,t.package_content_unit))+") ",1)):_("",!0),e("span",null,[w(" voor "+o(r.min_items)+" verpakkingen ",1),e("span",gt,"("+o(("pretty_package_content_amount"in a?a.pretty_package_content_amount:n(Z))({package_content_amount:r.min_items*t.package_content_amount,package_content_unit:t.package_content_unit}))+" "+o(("pretty_package_content_unit"in a?a.pretty_package_content_unit:n(x))(t.package_content_unit))+")",1)])])):_("",!0)]))),256))])]))),256))])])),e("div",kt,[e("div",yt,[A(e("button",{class:"btn",onClick:s[5]||(s[5]=t=>{u.value--,k()})},"Vorige",512),[[se,n(u)>1]]),e("div",bt," Pagina "+o(n(u))+" van "+o(n(f)),1),A(e("button",{class:"btn",onClick:s[6]||(s[6]=t=>{u.value++,k()})},"Volgende",512),[[se,n(u)<n(f)]])])])])):_("",!0),n(C)?(i(),l("div",ht," Er ging iets mis met het ophalen van de gegevens: "+o(n(C)),1)):_("",!0),e("div",ft,[e("div",wt,[s[17]||(s[17]=e("h6",{class:"mt-3"},"** Wij van Dealsscanner.nl weten het wel... **",-1)),s[18]||(s[18]=e("div",null," Het leven is al druk en duur genoeg! Dus hebben we geen zin om te veel te betalen voor vitamines & mineralen, of lang te zoeken naar de beste aanbieding. Daarom zijn we deze site begonnen. ",-1)),s[19]||(s[19]=e("h6",{class:"mt-3"},"** Mis je iets? **",-1)),e("div",null,[s[16]||(s[16]=w(" De prijzen op Dealsscanner.nl worden elke dag bijgewerkt. Zo zie je altijd de nieuwste aanbiedingen. We voegen vaak nieuwe winkels en producten toe. Mis je iets? ")),D(W,{to:"/contact"},{default:N(()=>s[15]||(s[15]=[w("Laat het ons weten!")])),_:1,__:[15]})]),s[20]||(s[20]=e("h6",{class:"mt-3"},"** Altijd de beste aanbieding **",-1)),s[21]||(s[21]=e("div",null," We werken onafhankelijk van merken en winkels, en daar zijn we trots op! Op die manier kunnen we jou altijd de beste aanbieding laten zien. ",-1))])])],64)}}}),$t=he(Ct,[["__scopeId","data-v-0e649a4f"]]);export{$t as default};
