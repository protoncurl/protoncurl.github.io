import{e as F,c as _,o as r,a as n,f as d,t as o,F as b,r as S,n as W,_ as G,s as ee,g as J,h as te,i as ne,j as ae,k as se,l as c,m as ie,q as oe,b as g,u as N,v as le,x as t,w as j,d as k,y as re,z as _e,A as Z,B as de}from"./C2W9sAvu.js";import{_ as ce}from"./v_IlCuYc.js";import{s as q,g as ue,p as B,a as O,b as C,c as M}from"./DELRMFYg.js";import{u as pe}from"./D4_wlWTr.js";const me={class:"mb-3"},ye={class:"mb-3"},ve={class:"scrollable"},ge=["onClick"],be={key:0},ke=F({__name:"Filter",props:{name:{},selected_id:{},options:{},error:{}},emits:["select"],setup(h){return(e,m)=>(r(),_("div",me,[n("h3",ye,o(e.name),1),n("div",ve,[(r(!0),_(b,null,S(e.options,u=>(r(),_("button",{class:W(["btn",e.selected_id==u.id?"active":""]),onClick:v=>e.$emit("select",u.id)},o(u.name),11,ge))),256))]),e.error?(r(),_("div",be," Er ging iets mis met het ophalen van de gegevens: "+o(e.error),1)):d("",!0)]))}}),he=G(ke,[["__scopeId","data-v-acc297b4"]]),fe=Symbol.for("nuxt:client-only"),we=F({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(h,{slots:e,attrs:m}){const u=ee(!1);J(()=>{u.value=!0});const v=ae();return v&&(v._nuxtClientOnly=!0),se(fe,!0),()=>{var w;if(u.value){const y=(w=e.default)==null?void 0:w.call(e);return y&&y.length===1?[te(y[0],m)]:y}const p=e.fallback||e.placeholder;if(p)return ne(p);const $=h.fallback||h.placeholder||"",T=h.fallbackTag||h.placeholderTag||"span";return _(T,m,$)}}}),je={class:"row justify-content-center"},qe={class:"col-lg-6"},Ce={class:"input-group mb-3 search-input"},Se={class:"row mb-3"},$e={class:"col-6 mt-2"},Te={class:"col-6 d-flex justify-content-end"},ze={key:0},Ve={key:0,class:"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4"},De={class:"col"},Ne={class:"card h-100"},Me=["src"],Be={class:"card-body"},Oe={class:"card-title"},We={class:"card-subtitle text-body-secondary float-end"},Fe={key:0,class:"card-subtitle mb-3 text-body-secondary"},Le={class:"fs-5"},Ae={key:0,class:"text-decoration-line-through ms-1"},Ee=["href"],Ie={key:0,class:"text-body-secondary me-2"},Pe={key:1,class:"table"},Re=["href"],He={class:"ms-2"},Ue={key:0,class:"text-body-secondary ms-1"},Ze={key:1,class:"text-decoration-line-through ms-1"},Ge={key:2,class:"text-body-secondary text-decoration-line-through ms-1"},Je={key:3,class:"ms-2"},Ke={key:4},Qe={key:0,class:"text-body-secondary"},Xe={class:"text-body-secondary"},Ye={class:"row justify-content-center mt-3"},xe={class:"col-12 d-flex justify-content-center"},et={class:"mt-2 ms-3 me-3"},tt={key:1},nt={class:"row justify-content-center"},at={class:"col-xl-6"},st=F({__name:"vitamine",setup(h){pe({title:"Vitamines & mineralen"});const e=c({query:"",source_id:null,brand_id:null,category_id:null,subcategory_id:null}),m=c([]),u=c(0),v=c(null),p=c(1),$=ie(()=>Math.ceil(u.value/100));async function T(){if(K(),Q(),X(),Y(),!(e.value.query.trim().length>=3||e.value.source_id||e.value.brand_id||e.value.category_id||e.value.subcategory_id)){m.value=[],u.value=0,v.value=null;return}const{data:i,error:a}=await q.rpc("search",{query:e.value.query.trim().length>=3?e.value.query:void 0,selected_source_id:e.value.source_id??void 0,selected_brand_id:e.value.brand_id??void 0,selected_category_id:e.value.category_id??void 0,selected_subcategory_id:e.value.subcategory_id??void 0,sort_by:z.value,page:p.value});m.value=ue(i)??[],u.value=i&&i.length>0?i[0].total:0,v.value=a}J(()=>{T()});let w;function y(){clearTimeout(w),w=setTimeout(()=>{T()},500)}oe(e.value,()=>{p.value=1,y()});const L=c([]),A=c(null);async function K(){const{data:i,error:a}=await q.rpc("categories_by_count",{query:e.value.query.trim().length>=3?e.value.query:void 0,selected_brand_id:e.value.brand_id??void 0,selected_source_id:e.value.source_id??void 0});L.value=i??[],A.value=a}const E=c([]),I=c(null);async function Q(){const{data:i,error:a}=e.value.category_id?await q.rpc("subcategories_by_count",{query:e.value.query.trim().length>=3?e.value.query:void 0,selected_brand_id:e.value.brand_id??void 0,selected_source_id:e.value.source_id??void 0,selected_category_id:e.value.category_id??void 0}):{data:[],error:null};E.value=i??[],I.value=a}const P=c([]),R=c(null);async function X(){const{data:i,error:a}=await q.rpc("brands_by_count",{query:e.value.query.trim().length>=3?e.value.query:void 0,selected_source_id:e.value.source_id??void 0,selected_category_id:e.value.category_id??void 0,selected_subcategory_id:e.value.subcategory_id??void 0});P.value=i??[],R.value=a}const H=c([]),U=c(null);async function Y(){const{data:i,error:a}=await q.rpc("sources_by_count",{query:e.value.query.trim().length>=3?e.value.query:void 0,selected_brand_id:e.value.brand_id??void 0,selected_category_id:e.value.category_id??void 0,selected_subcategory_id:e.value.subcategory_id??void 0});H.value=i??[],U.value=a}const f=c(!0),z=c("price");return(i,a)=>{const V=he,x=we,D=ce;return r(),_(b,null,[n("div",je,[n("div",qe,[n("div",Ce,[N(n("input",{type:"text",placeholder:"Welk product zoek je?",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=s=>t(e).query=s)},null,512),[[le,t(e).query]]),a[10]||(a[10]=n("div",{class:"input-group-append"},[n("span",{class:"input-group-text"},[n("i",{class:"bi bi-search"})])],-1))])])]),g(x,null,{default:j(()=>[g(V,{name:"Categorie",selected_id:t(e).category_id,options:t(L),error:t(A),onSelect:a[1]||(a[1]=s=>{t(e).category_id==s?(t(e).category_id=null,t(e).subcategory_id=null):t(e).category_id=s})},null,8,["selected_id","options","error"]),t(e).category_id?(r(),de(V,{key:0,name:"Subcategorie",selected_id:t(e).subcategory_id,options:t(E),error:t(I),onSelect:a[2]||(a[2]=s=>t(e).subcategory_id=t(e).subcategory_id==s?null:s)},null,8,["selected_id","options","error"])):d("",!0),g(V,{name:"Merk",selected_id:t(e).brand_id,options:t(P),error:t(R),onSelect:a[3]||(a[3]=s=>t(e).brand_id=t(e).brand_id==s?null:s)},null,8,["selected_id","options","error"]),g(V,{name:"Winkel",selected_id:t(e).source_id,options:t(H),error:t(U),onSelect:a[4]||(a[4]=s=>t(e).source_id=t(e).source_id==s?null:s)},null,8,["selected_id","options","error"])]),_:1}),n("div",Se,[n("div",$e,[t(u)>0?(r(),_(b,{key:0},[k(" Totaal: "+o(t(u)),1)],64)):d("",!0)]),n("div",Te,[a[12]||(a[12]=n("span",{class:"text-body-secondary lh-lg me-3 mt-1 d-none d-sm-inline"},"Sorteer:",-1)),N(n("select",{class:"form-select me-3","onUpdate:modelValue":a[5]||(a[5]=s=>_e(z)?z.value=s:null),onChange:y},a[11]||(a[11]=[n("option",{value:"price"},"Prijs (laag-hoog)",-1),n("option",{value:"price_desc"},"Prijs (hoog-laag)",-1),n("option",{value:"name"},"Naam",-1)]),544),[[re,t(z)]]),n("button",{class:W(["btn",t(f)?"active":""]),onClick:a[6]||(a[6]=s=>f.value=!0)},"Tegels",2),n("button",{class:W(["btn",t(f)?"":"active"]),onClick:a[7]||(a[7]=s=>f.value=!1)},"Lijst",2)])]),t(m).length>0?(r(),_("div",ze,[t(f)?(r(),_("div",Ve,[(r(!0),_(b,null,S(t(m),s=>(r(),_("div",De,[n("div",Ne,[g(D,{to:{name:"product-id",params:{id:s.id}},class:"d-flex"},{default:j(()=>[n("img",{src:s.image_link,class:"mt-3"},null,8,Me)]),_:2},1032,["to"]),n("div",Be,[n("h5",Oe,[g(D,{to:{name:"product-id",params:{id:s.id}}},{default:j(()=>[k(o(s.name),1)]),_:2},1032,["to"])]),n("h6",We,o(s.brand_name),1),s.package_content_amount>0?(r(),_("h6",Fe,o(("pretty_package_content_amount"in i?i.pretty_package_content_amount:t(B))(s))+" "+o(("pretty_package_content_unit"in i?i.pretty_package_content_unit:t(O))(s.package_content_unit)),1)):d("",!0),(r(!0),_(b,null,S(s.product_sources,l=>(r(),_("div",null,[n("span",Le,o(("pretty_price"in i?i.pretty_price:t(C))(l.price)),1),l.min_items==1&&l.hidden_price!=l.price?(r(),_("span",Ae,o(("pretty_price"in i?i.pretty_price:t(C))(l.hidden_price)),1)):d("",!0),n("a",{target:"_blank",href:l.link,class:"ms-2"},o(l.source_name),9,Ee),n("div",null,[s.package_content_amount!=0?(r(),_("span",Ie," ("+o(("pretty_price_per_unit"in i?i.pretty_price_per_unit:t(M))(l.price,s.package_content_amount,s.package_content_unit))+") ",1)):d("",!0),n("span",null,o(l.promo),1)])]))),256))])])]))),256))])):d("",!0),t(f)?d("",!0):(r(),_("table",Pe,[a[13]||(a[13]=n("thead",null,[n("tr",null,[n("th",null,"Naam"),n("th",null,"Deals per winkel")])],-1)),n("tbody",null,[(r(!0),_(b,null,S(t(m),s=>(r(),_("tr",null,[n("td",null,[g(D,{to:{name:"product-id",params:{id:s.id}}},{default:j(()=>[k(o(s.brand_name)+" "+o(s.name)+" ",1),s.package_content_amount>0?(r(),_(b,{key:0},[k(" - "+o(("pretty_package_content_amount"in i?i.pretty_package_content_amount:t(B))(s))+" "+o(("pretty_package_content_unit"in i?i.pretty_package_content_unit:t(O))(s.package_content_unit)),1)],64)):d("",!0)]),_:2},1032,["to"])]),n("td",null,[(r(!0),_(b,null,S(s.product_sources,l=>(r(),_("div",null,[n("a",{target:"_blank",href:l.link},o(l.source_name),9,Re),n("span",He,o(("pretty_price"in i?i.pretty_price:t(C))(l.price)),1),s.package_content_amount!=0?(r(),_("span",Ue," ("+o(("pretty_price_per_unit"in i?i.pretty_price_per_unit:t(M))(l.price,s.package_content_amount,s.package_content_unit))+") ",1)):d("",!0),l.min_items==1&&l.hidden_price!=l.price?(r(),_("span",Ze,o(("pretty_price"in i?i.pretty_price:t(C))(l.hidden_price)),1)):d("",!0),s.package_content_amount!=0&&l.min_items==1&&l.hidden_price!=l.price?(r(),_("span",Ge,o(("pretty_price_per_unit"in i?i.pretty_price_per_unit:t(M))(l.hidden_price,s.package_content_amount,s.package_content_unit)),1)):d("",!0),l.promo?(r(),_("span",Je,"("+o(l.promo)+")",1)):d("",!0),l.min_items>1?(r(),_("div",Ke,[n("span",null," of "+o(("pretty_price"in i?i.pretty_price:t(C))(l.hidden_price)),1),s.package_content_amount!=0?(r(),_("span",Qe," ("+o(("pretty_price_per_unit"in i?i.pretty_price_per_unit:t(M))(l.hidden_price,l.min_items*s.package_content_amount,s.package_content_unit))+") ",1)):d("",!0),n("span",null,[k(" voor "+o(l.min_items)+" verpakkingen ",1),n("span",Xe,"("+o(("pretty_package_content_amount"in i?i.pretty_package_content_amount:t(B))({package_content_amount:l.min_items*s.package_content_amount,package_content_unit:s.package_content_unit}))+" "+o(("pretty_package_content_unit"in i?i.pretty_package_content_unit:t(O))(s.package_content_unit))+")",1)])])):d("",!0)]))),256))])]))),256))])])),n("div",Ye,[n("div",xe,[N(n("button",{class:"btn",onClick:a[8]||(a[8]=s=>{p.value--,y()})},"Vorige",512),[[Z,t(p)>1]]),n("div",et," Pagina "+o(t(p))+" van "+o(t($)),1),N(n("button",{class:"btn",onClick:a[9]||(a[9]=s=>{p.value++,y()})},"Volgende",512),[[Z,t(p)<t($)]])])])])):d("",!0),t(v)?(r(),_("div",tt," Er ging iets mis met het ophalen van de gegevens: "+o(t(v)),1)):d("",!0),n("div",nt,[n("div",at,[a[16]||(a[16]=n("h6",{class:"mt-3"},"** Wij van Dealsscanner.nl weten het wel... **",-1)),a[17]||(a[17]=n("div",null," Het leven is al druk en duur genoeg! Dus hebben we geen zin om te veel te betalen voor vitamines & mineralen, of lang te zoeken naar de beste aanbieding. Daarom zijn we deze site begonnen. ",-1)),a[18]||(a[18]=n("h6",{class:"mt-3"},"** Mis je iets? **",-1)),n("div",null,[a[15]||(a[15]=k(" De prijzen op Dealsscanner.nl worden elke dag bijgewerkt. Zo zie je altijd de nieuwste aanbiedingen. We voegen vaak nieuwe winkels en producten toe. Mis je iets? ")),g(D,{to:"/contact"},{default:j(()=>a[14]||(a[14]=[k("Laat het ons weten!")])),_:1,__:[14]})]),a[19]||(a[19]=n("h6",{class:"mt-3"},"** Altijd de beste aanbieding **",-1)),a[20]||(a[20]=n("div",null," We werken onafhankelijk van merken en winkels, en daar zijn we trots op! Op die manier kunnen we jou altijd de beste aanbieding laten zien. ",-1))])])],64)}}}),_t=G(st,[["__scopeId","data-v-aa71201f"]]);export{_t as default};
